{% extends "base.html" %}
{% load static %}
{% block content %}
<div class="row">
    {% if menues %}
    {% if show_tabs %}
    <ul class="nav nav-tabs border-0 px-3 pt-2" id="menuTabs" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" id="all-tab" data-toggle="tab" href="#all" role="tab" aria-controls="all"
                aria-selected="true">All</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="distribution-tab" data-toggle="tab" href="#distribution" role="tab"
                aria-controls="distribution" aria-selected="false">Distribution</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="statement-tab" data-toggle="tab" href="#statement" role="tab"
                aria-controls="statement" aria-selected="false">Statement</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="todo-tab" data-toggle="tab" href="#todo" role="tab" aria-controls="todo"
                aria-selected="false">ToDo</a>
        </li>
    </ul>
    {% endif %}
    <div class="tab-content" id="menuTabsContent">
        <div class="tab-pane fade show active" id="all" role="tabpanel" aria-labelledby="all-tab">
            <div class="row">
                {% for menu in menues %}
                <div class="col-sm-12 col-md-3 pt-4 d-flex align-items-stretch">
                    {% with html="components/action_card.html" %}
                    {% include html with title=menu.title items=menu.items url=menu.url bg=menu.background %}
                    {% endwith %}
                </div>
                {% endfor %}
            </div>
        </div>
        <div class="tab-pane fade" id="distribution" role="tabpanel" aria-labelledby="distribution-tab">
            <div class="row">
                {% for menu in menues %}
                {% if menu.event_type == "Distribution" %}
                <div class="col-sm-12 col-md-3 pt-4 d-flex align-items-stretch">
                    {% with html="components/action_card.html" %}
                    {% include html with title=menu.title items=menu.items url=menu.url bg=menu.background %}
                    {% endwith %}
                </div>
                {% endif %}
                {% endfor %}
            </div>
        </div>
        <div class="tab-pane fade" id="statement" role="tabpanel" aria-labelledby="statement-tab">
            <div class="row">
                {% for menu in menues %}
                {% if menu.event_type == "Statement" %}
                <div class="col-sm-12 col-md-3 pt-4 d-flex align-items-stretch">
                    {% with html="components/action_card.html" %}
                    {% include html with title=menu.title items=menu.items url=menu.url bg=menu.background %}
                    {% endwith %}
                </div>
                {% endif %}
                {% endfor %}
            </div>
        </div>
        <div class="tab-pane fade" id="todo" role="tabpanel" aria-labelledby="todo-tab">
            <div class="row">
                {% for menu in menues %}
                {% if menu.event_type == "TODO" %}
                <div class="col-sm-12 col-md-3 pt-4 d-flex align-items-stretch">
                    {% with html="components/action_card.html" %}
                    {% include html with title=menu.title items=menu.items url=menu.url bg=menu.background %}
                    {% endwith %}
                </div>
                {% endif %}
                {% endfor %}
            </div>
        </div>
    </div>
    {% else %}
    <h3 class="p-4" style="color: red;">No Watchers found !!!</h3>
    {% endif %}
</div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        let page_name = document.getElementById("page_name");
        page_name.innerHTML = "{{ page_name }}";
    });
</script>
{% endblock %}